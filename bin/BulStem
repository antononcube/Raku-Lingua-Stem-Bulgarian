#!/usr/bin/env raku
use v6.d;

use Lingua::Stem::Bulgarian;

#| Finds stems of Bulgarian words.
multi sub MAIN(Str $text,                     #= Text to spilt and its words stemmed.
               Str :$splitter = '\W+'         #= String to make a split regex with.
               ) {
    my @res = BulStem($text.split(/<{ $splitter }>/));

    if @res.elems == 1 { say @res[0]; }
    else { say @res.raku; }
}

multi sub MAIN(*@words                         #= Words to be stemmed
               ) {
    say BulStem(@words).join(' ');
}